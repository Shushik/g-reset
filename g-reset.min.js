/**
 * @page        http://github.com/Shushik/g-reset/
 * @author      Shushik <silkleopard@yandex.ru>
 * @version     1.0
 * @description Simple jQuery-like lib
 */
;$=SJQL=function(){var p,m,g=function(a,b){if(g.wrapper)return new g.wrapper(a,b)};p={"float":"cssFloat"};m={};g.id=function(a){return document.getElementById(a)};g.find=function(a,b){b=b||document;return b.querySelectorAll(a)};g.closest=function(a,b,c){c=c||document.body;var d=0,d=0,f=null,e=null,e=a;for(a=e.parentNode;e!=c;){a=e.parentNode;e=a.parentNode.querySelectorAll(b);for(d=e.length-1;0<=d;d--)if(f=e[d],f==a)return a;e=a}return null};g.on=function(a,b,c){var d=0,f=0,e="",k="",h=null;b=b.split(" "); if(d=b.length){a.addEventListener?k="addEventListener":a.attachEvent&&(e="on",k="attachEvent");h=g.proxy(function(a){a=g.event(a);c.call(this,a)},a);for(f=0;f<d;f++)a[k](e+b[f],h);return h}};g.off=function(a,b,c){var d=0,f=0,e="",g="";b=b.split(" ");if(d=b.length){a.removeEventListener?g="removeEventListener":a.detachEvent&&(e="on",g="detachEvent");for(f=0;f<d;f++)a[g](e+b[f],c)}};g.event=function(a){a=a||window.event;var b=a.type,c="",d={originalEvent:a};for(c in a)d[c]=a[c];a.target||(d.target= a.srcElement);a.target&&3===d.target.nodeType&&(d.target=a.target.parentNode);if(("keypress"==b||"keydown"==b||"keyup"==b)&&!a.keyCode&&a.which)d.keyCode=a.which;a.timeStamp||(d.timeStamp=(new Date).getTime());a.relatedTarget||(d.relatedTarget=a.fromElement);d.stopPropagation=a.stopPropagation?function(){a.stopPropagation()}:function(){a.cancelBubble=!0};d.preventDefault=a.preventDefault?function(){a.preventDefault()}:function(){a.returnValue=!1};return d};g.css=function(a,b,c){function d(a){a=g.camel(a); p[a]&&(a=p[a]);return a}var f="",e="",k="",e=typeof c,h=null,l=h=null;if(a&&!(3===a.nodeType||8===a.nodeType||!a.style)){if("object"===b)l=b;else if(void 0!==c){if("string"!==e||"number"!==e)return;l={style:c}}if(l)for(k in h="zoom widows zIndex opacity orphans fontWeight lineHeight columnCount fillOpacity".split(" "),l)e=d(k),f=l[k],-1!==g.index(e,h)&&f.replace("px",""),a.style[name]=l[k];else return e=d(b),(h=a.style)&&h[e]?h[e]:(h=a.currentStyle?a.currentStyle:window.getComputedStyle(a,null))&& h[e]?h[e]:""}};g.val=function(a,b){var c=a&&a.tagName?a.tagName.toLowerCase():"",d=typeof b;if(c&&-1!==g.index(c,["input","select","textarea","button"])){if(void 0!==b&&("number"===d||"string"===d))a.value=b,a.setAttribute("value",b);return g.prop(a,"value",b)}};g.prop=function(a,b,c){var d="";b.match(/-/)&&(b=g.camel(b));void 0!==c?null===c&&a[b]?delete a[b]:a[b]=c:d="function"===typeof a[b]?a[b]():a[b];return d};g.attr=function(a,b,c){var d=!1,f=!1,e=a.nodeType,k="";if(a&&!(3===e||8===e||2===e))return b.match(/^on/), -1<g.index(b,"loop open async defer hidden scoped checked selected autoplay controls disabled multiple readonly required autofocus".split(" "))?d=!0:-1<g.index(b,"id dir lang title value style".split(" "))&&(f=!0),void 0!==c?null===c?(d?a[b]=!1:f&&g.prop(a,b,c),a.removeAttribute(b)):(d?a[b]=!0:f&&g.prop(a,b,c),a.setAttribute(b,c)):k=d?a[b]:f?g.prop(a,b):a.getAttribute(b),k};g.cname=function(a,b,c){var d=!1,f=0,e=a.className?a.className.replace(/[\n\t\r]/g," ").replace(/ {2,}/g," ").split(" "):[], f=g.index(b,e),d=-1<f?!0:!1;if(void 0!==c)!1===c&&d?e.splice(f,1):!0===c&&(d?e[f]=b:e.push(b));else return d;a.className=e.join(" ")};g.cookie=function(a,b,c){var d=0,f=0,e=[],g=[],h={},d=null;if(null===b)d=new Date,d.setTime(d.getTime()-1),document.cookie=a+"=; expires="+d.toGMTString();else if("string"===typeof b)e=a+"="+escape(b),c&&(c instanceof Date?e+="; expires="+c.toUTCString():(c.expires&&(e+="; expires="+c.expires.toUTCString()),c.path&&(e+="; path="+escape(c.path)),c.domain&&(e+="; domain="+ escape(c.domain)),c.secure&&(e+="; secure"))),document.cookie=e;else{g=document.cookie.split(";");d=g.length;for(f=0;f<d;f++){e=g[f].split("=");e[1]=unescape(e[1]);if(e[0]===a)return e[1];h[e[0]]=e[1]}return!0===a?h:null}};g.storage=function(a,b,c,d){var f=0,e=0,f=typeof b,g="",h={};c=c?sessionStorage:localStorage;if(void 0!==b)if(null===b)c.removeItem(a);else{if("boolean"===f||"object"===f)b=JSON.stringify(b);try{c.setItem(a,b)}catch(l){if(l===QUOTA_EXCEEDED_ERR&&d)c.clear(),c.setItem(a,b);else return l}}else{if(void 0!== a)return c.getItem(a);f=c.length;for(e=0;e<f;e++)g=c.key(e),h[g]=c.getItem(g);return h}};g.sel=function(a){var b=null,c=null;if(void 0!==a)document.createRange?(b=document.createRange(),b.selectNode(a),c=window.getSelection(),c.removeAllRanges(),c.addRange(b)):(b=document.body.createTextRange(),b.moveToElementText(a),b.select());else return window.getSelection?window.getSelection().toString():document.selection.createRange?document.selection.createRange().text:""};g.caret=function(a,b,c){var d=document.selection? !0:!1,f=0,f=0,e=g.val(a),k=null,f=e.length;(void 0!==b||d)&&a.focus();d?(k=document.selection.createRange(),k.moveStart("character",-f),"number"===typeof b?(k.move("character",b),k.select(),k.moveStart("character",-f),k.select(),f=k.text.length,k.moveStart("character",b),k.select()):f=k.text.length):("number"===typeof b&&(a.selectionStart=b,a.selectionEnd=b),f=a.selectionStart);if("string"===typeof c)g.val(a,e.substring(0,f)+c+e.substring(f)),d?(k.move("character",f+c.length),k.select()):(a.selectionStart= f+c.length,a.selectionEnd=f+c.length);else return f};g.offset=function(a,b){b=b||document.body;var c=!1,d=/^t(?:able|d|h)$/i,f=document,e=f.body,g=f.defaultView?f.defaultView.getComputedStyle:null,h=a,l=g?g(h,null):h.currentStyle,n=null,j={top:h.offsetTop,left:h.offsetLeft,width:h.offsetWidth,height:h.offsetHeight},m=h.offsetParent;for(navigator.userAgent.match(/MSIE [67]/)&&"CSS1Compat"!=f.compatMode&&(c=!0);(h=h.parentNode)&&h!=b&&"fixed"!==l.position;)n=g?g(h,null):h.currentStyle,j.top-=h.scrollTop, j.left-=h.scrollLeft,h===m&&(j.top+=h.offsetTop,j.left+=h.offsetLeft,c&&d.test(h.tagName)&&(j.top+=parseFloat(n.borderTopWidth)||0,j.left+=parseFloat(n.borderLeftWidth)||0),m=h.offsetParent),"visible"!==n.overflow&&(j.top+=parseFloat(n.borderTopWidth)||0,j.left+=parseFloat(n.borderLeftWidth)||0),l=n;h===e&&("relative"===l.position||"static"===l.position?(j.top+=e.offsetTop,j.left+=e.offsetLeft):"fixed"===l.position&&(j.top+=Math.max(f.scrollTop,e.scrollTop),j.left+=Math.max(f.scrollLeft,e.scrollLeft))); return j};g.each=function(a,b){var c=0,d=-1,c="";if(a.length)for(c=a.length-1;d++<c;)b.call(a[d],d,a[d]);else if("object"===typeof a)for(c in a)b.call(a[c],c,a[c])};g.proxy=function(a,b){return function(){return a.apply(b,arguments)}};g.index=function(a,b){var c=0,d=0,c="";if("object"==typeof b){if(b instanceof Array){if(b.indexOf)return b.indexOf(a);c=b.length;for(d=0;d<c;d++)if(b[d]===a)return d;return-1}for(c in b)if(b[c]===a)return c;return null}};g.trim=function(a,b){a=a.trim?a.replace(/^\s*/g, "").replace(/\s*$/g,""):a.trim();void 0!==b&&(a=a.replace(/\r/g,"").replace(/\t/g," ").replace(/\n{2,}/g,"\n").replace(/ {2,}/," "));return a};g.camel=function(a,b){b=b||!1;var c=0,d="";if("string"==typeof a)for(;a[c];)"-"==a[c]?b=!0:b?(d+=a[c].toUpperCase(),b=!1):d+=a[c],c++;return d};g.ajax=function(a,b,c,d){b=b||null;d=(d||"GET").toUpperCase();c=c||{};var f=0,e=f="",g=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")}, function(){return new ActiveXObject("Microsoft.XMLHTTP")}],h=null;if("GET"==d&&b){for(f in b)e+="&"+f+"="+encodeURIComponent(b[f]);a.match(/\?/)||(e=e.replace(/^&/,"?"));a+=e}for(f=0;4>f;f++){try{h=g[f]()}catch(l){continue}break}if(h)return h.open(d,a,!0),h.setRequestHeader("User-Agent","XMLHTTP/1.0"),h.onreadystatechange=function(){4==h.readyState?200==h.status&&c.success||304==h.status&&c.success?c.success(h.responseText,h):c.error&&c.error({status:h.status,raw:h.responseText?h.responseText:""}): c.error&&c.error(h)},h.send(),h};g.json=function(a){var b=null,c="";if("string"==typeof a&&(c=a.substring(0,1),"{"==c||"["==c||'"'==c))b=window.JSON.parse(a);return b};g.pub=function(a,b){b=b||[];var c=0,d=0,f=null;if("string"==typeof a&&m[a]){f=m[a];d=f.length;for(c=0;c<d;c++)try{f[c].apply(f[c],b)}catch(e){}}};g.sub=function(a,b){m[a]||(m[a]=[]);m[a].push(b)};return g}();